<template name="dashboard">
    <div class="template-dashboard">
        {{> connectMailboxButton account=accountId classes=classesMailboxAdd callbackUrl=callbackUrl label=''  }}

        <h1>Dashboard</h1>

        <div class="row">

            <div class="col s12 m4">
                <ul class="collection with-header">
                    <li class="collection-header"><h5>Mailboxes</h5></li>
                    {{#each mailboxes}}
                        <li class="collection-item">
                            <input data-mailbox-label="mailbox-{{label}}" type="checkbox" id="{{label}}"/>
                            <label class="truncate" for="{{label}}">{{username}}</label>
                            <a class="secondary-content modal-trigger mb-delete" href="#modal-del-mb" ><i class="mdi-action-delete"></i></a>
                        </li>
                    {{/each}}
                </ul>
            </div>

            {{> filterMailboxesForm}}

        </div>

        <div class="row">
            {{#each mailboxFiles}}
                {{> imgCard}}
            {{/each}}
        </div>

        <div class="row center-align">
            <button id="btn-load-more" class="btn btn-success waves-effect waves-light hidden">Load more</button>
        </div>

        <div id="materialboxed-container" class="row">

        </div>
    </div>

    {{> deleteMailboxConfirmModal mailboxToDelete}}

</template>

<template name="deleteMailboxConfirmModal">
    <div id="modal-del-mb" class="modal">
        <div class="modal-content">
            <h2>Delete Mailbox</h2>
            <p>Are you sure you want to remove this mailbox?</p>
            <h3>{{username}}</h3>
        </div>
        <div class="modal-footer">
            <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Cancel</a>
            <a href="#!" data-mailbox="{{label}}" class=" modal-action modal-close waves-effect waves-red btn-flat">Delete</a>
        </div>
    </div>
</template>